
<launch>
    <!-- <include file="$(find naboris_arduino_bridge)/launch/naboris_arduino_bridge.launch"></include>
    <include file="$(find naboris_odometry)/launch/naboris_odometry.launch"></include>
    <include file="$(find naboris_motor_control)/launch/naboris_motor_control.launch"></include> -->

    <!-- <include file="$(find naboris_ip_cam)/launch/naboris_ip_cam_720x480_30fps.launch"></include> -->
    <!-- <include file="$(find raspicam_node)/launch/camerav2_720x480_30fps.launch"></include> -->

    <!-- <include file="$(find naboris_ip_cam)/launch/naboris_ip_cam_410x308_30fps.launch"></include> -->
    <!-- <include file="$(find raspicam_node)/launch/camerav2_410x308_30fps.launch"></include> -->

    <node type="naboris_ip_cam_node" name="naboris_ip_cam_node" pkg="naboris_ip_cam" required="true" output="screen">
        <param name="camera_info_url" value="package://naboris_ip_cam/camera_info/naboris_ip_cam_410x308.yaml"/>
        <param name="fps" value="15.0"/>
    </node>

    <node type="raspicam_node" pkg="raspicam_node" name="raspicam_node" output="screen">
        <param name="camera_info_url" value="package://raspicam_node/camera_info/camerav2_410x308.yaml"/>
        <param name="~width" value="410"/>
        <param name="~height" value="308"/>

        <param name="~framerate" value="10.0"/>
        <param name="camera_frame_id" value="naboris_left_cam"/>
    </node>

    <node name="dynamic_reconfigure_load" pkg="dynamic_reconfigure" type="dynparam"
        args="load /raspicam_node $(find raspicam_node)/params/raspicam_node_defaults.yaml"/>

    <!-- <include file="$(find naboris_stereo)/launch/naboris_stereo.launch"></include> -->
    <node type="naboris_stereo_node" name="naboris_stereo_node" pkg="naboris_stereo" required="true" output="screen">
        <param name="~right_cam_sub_topic" value="/naboris_ip_cam/image_raw"/>
        <param name="~left_cam_sub_topic" value="/raspicam_node/image"/>
    </node>

    <!-- <node pkg="ORB_SLAM2" type="Stereo" name="orbslam2" output="screen" required="true"
        args="/home/naboris/Documents/ORB_SLAM2/Vocabulary/ORBvoc.bin /home/naboris/Documents/ORB_SLAM2/Examples/ROS/ORB_SLAM2/Naboris.yaml true">
    </node> -->

    <!-- <node pkg="image_transport" type="republish" name="republish" required="true"
        args="compressed in:=/raspicam_node/image raw out:=/naboris_stereo/left/image_raw">
    </node> -->


    <group ns="/naboris_stereo" >
        <node pkg="stereo_image_proc" type="stereo_image_proc" name="stereo_image_proc" output="screen">
            <param name="~approximate_sync" value="True" />
            <param name="~queue_size" value="25" />
        </node>
    </group>
</launch>
